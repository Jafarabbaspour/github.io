@model Jafarabbaspour.Models.Portfolio

<form asp-action="UpdatePortfolio" enctype="multipart/form-data">
    <input type="hidden" asp-for="Id"/>
    <div class="row">

        <div class="col-9">
            <div class="row">
                <div class="card accordion-item">
                    <h2 class="accordion-header" id="headingDeliveryAddress">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#collapseDeliveryAddress" aria-expanded="true" aria-controls="collapseDeliveryAddress">
                            @* Delivery Address *@
                        </button>
                    </h2>
                    <div id="collapseDeliveryAddress" class="accordion-collapse collapse show" aria-labelledby="headingDeliveryAddress" data-bs-parent="#collapsibleSection">
                        <div class="accordion-body">
                            <div class="row g-3 p-3">

                                <div class="col-md-6">
                                    <div class="row">
                                        <label class="col-sm-3 col-form-label text-sm-end">Title</label>
                                        <div class="col-sm-9">
                                            <input type="text" asp-for="Title" class="form-control ">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <label class="col-sm-3 col-form-label text-sm-end">Role in team</label>
                                        <div class="col-sm-9">
                                            <input type="text" asp-for="RoleInTeam" class="form-control">
                                        </div>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="row">
                                        <label class="col-sm-3 col-form-label text-sm-end">Link</label>
                                        <div class="col-sm-9">
                                            <input type="text" asp-for="Url" class="form-control">
                                        </div>
                                    </div>
                                </div>

                                <div class="col-12 m-5">
                                    <div class="row">
                                        <label class="col-sm-2 col-form-label text-sm-end" for="collapsible-address">Description</label>
                                        <div class="col-sm-9">
                                            <textarea asp-for="Description" class="form-control" id="collapsible-address" rows="10" placeholder="About me"></textarea>
                                        </div>
                                    </div>
                                </div>

                                <div class="m-2 text-end">
                                    <button type="submit" class="btn btn-success"> Submit</button>
                                </div>

                            </div>

                        </div>
                    </div>

                </div>

            </div>
        </div>
        <div class="col-md-3 mb-4 mb-md-0">
            <div class="card p-lg-4">
                <div class="card-body">
                    <div class="display-flex">
                        <div class="mt-2 col-12">
                            <h6 class="fs-6 mb-2">لطفا تصویر را انتخاب کنید</h6>
                            <img src="/images/@Model.Image" class="w-100 rounded-2 mb-3 img-fluid" ImageFile="1"/>

                            <label for="uploadImage" class="w-100 btn btn-info">آپلود تصویر</label>
                            <input class="d-none" type="file" id="uploadImage" ImageInput="1" accept="image/png, image/jpeg, image/webp" name="imageFile"/>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>

</form>

<script>
    document.getElementById('uploadImage').addEventListener('change', function (event) {
        const input = event.target;
        const imagePreview = document.querySelector('img[ImageFile="1"]');

        if (input.files && input.files[0]) {
            const reader = new FileReader();

            reader.onload = function (e) {
                imagePreview.src = e.target.result;  // Set the image preview's source to the file
            }

            reader.readAsDataURL(input.files[0]);  // Read the selected image as a data URL
        }
    });

</script>